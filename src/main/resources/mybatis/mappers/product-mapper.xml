<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.apiserver.ProductMapper" >

    <select id="select_product_list" resultType="com.apiserver.dto.ProductDTO" >
        select * from product;
    </select>

    <resultMap id="select_product_resultMap" type="com.apiserver.dto.ProductDTO" autoMapping="true">
        <id property="no" column="p_no" />
        <collection property="images" javaType="list" ofType="string">
            <result column="product_img"/>
        </collection>
    </resultMap>

    <select id="select_product" resultMap="select_product_resultMap" >
        select *,p.no as p_no, pi.no as pi_no
        from product p
        inner join product_img pi
        on p.no = pi.product_no
        where p.no = #{no}
    </select>

</mapper>